TODO:

- make domain overlap size limit configurable
- make the phases configurable
